// src/main/java/com/community/cms/model/PageType.java
package com.community.cms.model;

/**
 * Типы страниц в системе управления контентом.
 *
 * <p>Определяет назначение и поведение страницы в системе.
 * Используется для классификации страниц и предоставления
 * специализированного функционала для каждого типа.</p>
 *
 * <p>Типы страниц:
 * <ul>
 *   <li><strong>CUSTOM</strong> - Произвольные страницы, создаваемые через админку</li>
 *   <li><strong>ABOUT</strong> - Страница "О нас" с информацией об организации</li>
 *   <li><strong>PROJECTS</strong> - Страница "Наши проекты" со списком активностей</li>
 *   <li><strong>GALLERY</strong> - Страница "Галерея" с медиа-контентом</li>
 *   <li><strong>PATRONS</strong> - Страница "Меценатам" с информацией для партнеров</li>
 *   <li><strong>CONTACT</strong> - Страница "Контакты" с формой обратной связи</li>
 * </ul>
 *
 * @author Vasickin
 * @version 1.0
 * @since 2025
 */
public enum PageType {

    /**
     * Произвольные страницы, создаваемые через административную панель.
     * Используются для дополнительного контента, не входящего в основные разделы.
     * Пример: "История организации", "Наша команда", "Достижения".
     */
    CUSTOM("custom", "Произвольная страница"),

    /**
     * Основная страница "О нас" с информацией об организации.
     * Содержит миссию, ценности, историю и основную информацию.
     */
    ABOUT("about", "О нас"),

    /**
     * Страница "Наши проекты" со списком текущих и завершенных активностей.
     * Может включать прогресс реализации, цели и результаты проектов.
     */
    PROJECTS("projects", "Наши проекты"),

    /**
     * Страница "Галерея" с фотографиями и видео мероприятий.
     * Поддерживает категории, фильтрацию и слайдеры.
     */
    GALLERY("gallery", "Галерея"),

    /**
     * Страница "Меценатам" с информацией для партнеров и спонсоров.
     * Содержит варианты сотрудничества, преимущества и контакты.
     */
    PATRONS("patrons", "Меценатам"),

    /**
     * Страница "Контакты" с контактной информацией и формой обратной связи.
     * Включает адрес, телефоны, email и карту расположения.
     */
    CONTACT("contact", "Контакты");

    private final String slug;
    private final String displayName;

    /**
     * Конструктор типа страницы.
     *
     * @param slug уникальный идентификатор для URL
     * @param displayName отображаемое название для интерфейса
     */
    PageType(String slug, String displayName) {
        this.slug = slug;
        this.displayName = displayName;
    }

    /**
     * Возвращает slug типа страницы.
     * Используется для построения URL и идентификации.
     *
     * @return slug типа страницы
     */
    public String getSlug() {
        return slug;
    }

    /**
     * Возвращает отображаемое название типа страницы.
     * Используется в пользовательском интерфейсе.
     *
     * @return отображаемое название
     */
    public String getDisplayName() {
        return displayName;
    }

    /**
     * Находит тип страницы по slug.
     * Используется для преобразования строковых значений из базы данных.
     *
     * @param slug slug для поиска
     * @return соответствующий тип страницы или null если не найден
     */
    public static PageType fromSlug(String slug) {
        for (PageType type : values()) {
            if (type.slug.equals(slug)) {
                return type;
            }
        }
        return null;
    }

    /**
     * Проверяет являться ли тип страницы одним из основных разделов сайта.
     * Основные разделы: ABOUT, PROJECTS, GALLERY, PATRONS, CONTACT.
     *
     * @return true если тип является основным разделом, иначе false
     */
    public boolean isSitePage() {
        return this != CUSTOM;
    }

    /**
     * Возвращает все основные типы страниц сайта (исключая CUSTOM).
     *
     * @return массив основных типов страниц
     */
    public static PageType[] getSitePages() {
        return new PageType[]{ABOUT, PROJECTS, GALLERY, PATRONS, CONTACT};
    }

    /**
     * Возвращает строковое представление типа страницы.
     * Используется для отладки и логирования.
     *
     * @return строковое представление
     */
    @Override
    public String toString() {
        return displayName + " (" + slug + ")";
    }
}
