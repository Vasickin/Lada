<!DOCTYPE html>
<!--
    NAVIGATION FRAGMENT / –§–†–ê–ì–ú–ï–ù–¢ –ù–ê–í–ò–ì–ê–¶–ò–ò
    Reusable navigation component for all pages / –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –¥–ª—è –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü

    Features / –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
    - Dynamic active state highlighting based on current URL
      –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–∫—É—â–µ–≥–æ URL
    - Spring Security integration for role-based menu items
      –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Spring Security –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –º–µ–Ω—é –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–æ–ª–µ–π
    - Responsive design with mobile hamburger menu
      –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω —Å –≥–∞–º–±—É—Ä–≥–µ—Ä-–º–µ–Ω—é –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
    - Organization branding with logo and fallback text
      –ë—Ä–µ–Ω–¥–∏–Ω–≥ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —Å –ª–æ–≥–æ—Ç–∏–ø–æ–º –∏ —Ä–µ–∑–µ—Ä–≤–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º
-->
<html lang="ru" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<!--
    SPRING SECURITY NAMESPACE DECLARATION / –û–ë–™–Ø–í–õ–ï–ù–ò–ï –ü–†–û–°–¢–†–ê–ù–°–¢–í–ê –ò–ú–ï–ù SPRING SECURITY
    Required for sec:authorize attributes to work properly
    –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –∞—Ç—Ä–∏–±—É—Ç–æ–≤ sec:authorize
    Without this declaration, Thymeleaf cannot process security expressions
    –ë–µ–∑ —ç—Ç–æ–≥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è Thymeleaf –Ω–µ –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å security –≤—ã—Ä–∞–∂–µ–Ω–∏—è
-->

<!--
    MAIN NAVIGATION COMPONENT / –û–°–ù–û–í–ù–û–ô –ö–û–ú–ü–û–ù–ï–ù–¢ –ù–ê–í–ò–ì–ê–¶–ò–ò
    Fixed top navigation bar with glass morphism effect
    –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Ö–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å —Å —ç—Ñ—Ñ–µ–∫—Ç–æ–º glass morphism
-->
<nav class="navbar navbar-expand-lg navbar-light navbar-custom fixed-top" th:fragment="main-navigation">
    <div class="container">
        <!--
            BRAND LOGO AND NAME / –õ–û–ì–û–¢–ò–ü –ò –ù–ê–ó–í–ê–ù–ò–ï –ë–†–ï–ù–î–ê
            Organization branding with responsive logo image
            –ë—Ä–µ–Ω–¥–∏–Ω–≥ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —Å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –ª–æ–≥–æ—Ç–∏–ø–∞
        -->
        <a class="navbar-brand logo-brand" href="/" th:href="@{/}">
            <!--
                ORGANIZATION LOGO / –õ–û–ì–û–¢–ò–ü –û–†–ì–ê–ù–ò–ó–ê–¶–ò–ò
                Optimized logo image with fallback to text if image fails to load
                –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ª–æ–≥–æ—Ç–∏–ø–∞ —Å —Ä–µ–∑–µ—Ä–≤–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º –ø—Ä–∏ –æ—à–∏–±–∫–µ –∑–∞–≥—Ä—É–∑–∫–∏
            -->
            <img src="/images/optimized/logo.png"
                 alt="–õ–∞–¥–∞ - –û–±—â–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è"
                 class="logo-image"
                 th:onerror="this.style.display='none'; this.nextElementSibling.style.display='inline-block'">
            <!--
                FALLBACK BRAND TEXT / –†–ï–ó–ï–†–í–ù–´–ô –¢–ï–ö–°–¢ –ë–†–ï–ù–î–ê
                Displayed only if logo image fails to load
                –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ª–æ–≥–æ—Ç–∏–ø–∞ –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª–æ—Å—å
            -->
            <span style="color: var(--primary-800); display: none;">üèõÔ∏è –õ–∞–¥–∞</span>
        </a>

        <!--
            MOBILE MENU TOGGLE / –ü–ï–†–ï–ö–õ–Æ–ß–ê–¢–ï–õ–¨ –ú–û–ë–ò–õ–¨–ù–û–ì–û –ú–ï–ù–Æ
            Hamburger menu button for mobile navigation with accessibility attributes
            –ö–Ω–æ–ø–∫–∞ –≥–∞–º–±—É—Ä–≥–µ—Ä-–º–µ–Ω—é –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ —Å –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
        -->
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏—é">
            <span class="navbar-toggler-icon"></span>
        </button>

        <!--
            NAVIGATION MENU ITEMS / –ü–£–ù–ö–¢–´ –ù–ê–í–ò–ì–ê–¶–ò–û–ù–ù–û–ì–û –ú–ï–ù–Æ
            Main navigation links to all website sections with dynamic active states
            –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –≤—Å–µ —Ä–∞–∑–¥–µ–ª—ã —Å–∞–π—Ç–∞ —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏ –∞–∫—Ç–∏–≤–Ω—ã–º–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏
        -->
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
                <!--
                    DYNAMIC ACTIVE STATE IMPLEMENTATION / –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø –î–ò–ù–ê–ú–ò–ß–ï–°–ö–û–ì–û –ê–ö–¢–ò–í–ù–û–ì–û –°–û–°–¢–û–Ø–ù–ò–Ø
                    th:classappend conditionally adds 'active' class based on current request URI
                    th:classappend —É—Å–ª–æ–≤–Ω–æ –¥–æ–±–∞–≤–ª—è–µ—Ç –∫–ª–∞—Å—Å 'active' –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–∫—É—â–µ–≥–æ URI –∑–∞–ø—Ä–æ—Å–∞
                    This provides visual feedback for current page location
                    –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω—É—é –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å –æ —Ç–µ–∫—É—â–µ–º –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
                -->
                <li class="nav-item">
                    <a class="nav-link fw-semibold"
                       href="/"
                       th:href="@{/}"
                       th:classappend="${#httpServletRequest.requestURI == '/'} ? 'active' : ''">
                        –ì–ª–∞–≤–Ω–∞—è
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link fw-semibold"
                       href="/about"
                       th:href="@{/about}"
                       th:classappend="${#httpServletRequest.requestURI == '/about'} ? 'active' : ''">
                        –û –Ω–∞—Å
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link fw-semibold"
                       href="/projects"
                       th:href="@{/projects}"
                       th:classappend="${#httpServletRequest.requestURI == '/projects'} ? 'active' : ''">
                        –ù–∞—à–∏ –ø—Ä–æ–µ–∫—Ç—ã
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link fw-semibold"
                       href="/gallery"
                       th:href="@{/gallery}"
                       th:classappend="${#httpServletRequest.requestURI == '/gallery'} ? 'active' : ''">
                        –ì–∞–ª–µ—Ä–µ—è
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link fw-semibold"
                       href="/patrons"
                       th:href="@{/patrons}"
                       th:classappend="${#httpServletRequest.requestURI == '/patrons'} ? 'active' : ''">
                        –ú–µ—Ü–µ–Ω–∞—Ç–∞–º
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link fw-semibold"
                       href="/contact"
                       th:href="@{/contact}"
                       th:classappend="${#httpServletRequest.requestURI == '/contact'} ? 'active' : ''">
                        –ö–æ–Ω—Ç–∞–∫—Ç—ã
                    </a>
                </li>
                <!--
                    ADMIN DASHBOARD LINK WITH SPRING SECURITY / –°–°–´–õ–ö–ê –ù–ê –ü–ê–ù–ï–õ–¨ –£–ü–†–ê–í–õ–ï–ù–ò–Ø –° SPRING SECURITY
                    Visible only to authenticated users using Spring Security expressions
                    –í–∏–¥–Ω–∞ —Ç–æ–ª—å–∫–æ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Spring Security –≤—ã—Ä–∞–∂–µ–Ω–∏–π
                    sec:authorize="isAuthenticated()" checks if user is logged in
                    sec:authorize="isAuthenticated()" –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –≤–æ—à–µ–ª –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ —Å–∏—Å—Ç–µ–º—É
                -->
                <li class="nav-item" sec:authorize="isAuthenticated()">
                    <a class="nav-link fw-semibold text-success" href="/admin" th:href="@{/admin}">
                        <span class="me-1">‚öôÔ∏è</span>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
                    </a>
                </li>
            </ul>
        </div>
    </div>
</nav>